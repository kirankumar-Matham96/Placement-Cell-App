let baseUrl="http://localhost:3000",setCookie=(e,t,n)=>{var o=new Date,n=(o.setTime(o.getTime()+24*n*60*60*1e3),"expires="+o.toUTCString());document.cookie=e+`=${t};${n};path=/`},getCookie=e=>{var t,n=e+"=";for(t of decodeURIComponent(document.cookie).split(";"))if(0===(t=t.trim()).indexOf(n))return t.substring(n.length,t.length);return""},deleteCookie=e=>{var t=new Date,t=(t.setTime(t.getTime()-864e5),"expires="+t.toUTCString());document.cookie=e+`=;${t};path=/`},signUp=async e=>{try{var t,n,o,a=e.target.password.value;if(a==e.target["confirm-password"].value)return t={name:e.target.name.value,email:e.target.email.value,password:a},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},(o=await fetch(baseUrl+"/api/placement-cell/users/signup",n)).ok&&(alert("User signed up successfully!"),e.target.reset()),o.ok;alert("error: password and confirm password doesn't match!")}catch(e){console.log(e)}},signIn=async e=>{try{var t={email:e.target.email.value,password:e.target.password.value},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},o=await fetch(baseUrl+"/api/placement-cell/users/signin",n),a=await o.json();return o.ok?(setCookie("token",a.token,1),alert("user signed in successfully!"),e.target.reset(),!0):(e.target.reset(),alert(a.error),!1)}catch(e){console.log("signin error => ",e)}},signOut=async()=>{try{deleteCookie("token");var e={method:"GET",headers:{"Content-Type":"application/json"}};await fetch(baseUrl+"/api/placement-cell/users/signout",e);alert("user logged out successfully!")}catch(e){console.log(e)}},addStudent=async e=>{try{var t={batch:e.target["student-batch"].value,name:e.target["student-name"].value,email:e.target["student-email"].value,college:e.target["student-college"].value,scores:{DSA:e.target.DSA.value,WebDev:e.target["Web Development"].value,React:e.target.React.value}},n={method:"POST",headers:{"Content-Type":"Application/json",Authorization:"Bearer "+getCookie("token")},body:JSON.stringify(t)};return(await fetch(baseUrl+"/api/placement-cell/students/add",n)).ok?(e.target.reset(),alert("Student added successfully!"),!0):!1}catch(e){console.log(e)}},getStudents=async()=>{try{var e={method:"GET",headers:{Authorization:"Bearer "+getCookie("token")}},t=await(await fetch(baseUrl+"/api/placement-cell/students/",e)).json();return t.success?t.students:null}catch(e){console.error("Error fetching data:",e)}},getCompanies=async()=>{try{var e={method:"GET",headers:{Authorization:"Bearer "+getCookie("token")}},t=await(await fetch(baseUrl+"/api/placement-cell/companies/",e)).json();return t.success?t.company:null}catch(e){console.error("Error fetching data:",e)}},getCompany=async e=>{try{var t={method:"GET",headers:{Authorization:"Bearer "+getCookie("token")}},n=await(await fetch(baseUrl+"/api/placement-cell/companies/"+e,t)).json();return n.success?n.company:null}catch(e){console.error("Error fetching data:",e)}},getInterviews=async()=>{try{var e={method:"GET",headers:{Authorization:"Bearer "+getCookie("token")}},t=await(await fetch(baseUrl+"/api/placement-cell/interviews/",e)).json();return t.success?t.interview:null}catch(e){console.error("Error fetching data:",e)}},scheduleInterview=async t=>{try{var e=(await getCompany(t.target["company-options"].value)).interviews.find(e=>e.designation===t.target["designation-options"].value).lastDate,n={companyId:t.target["company-options"].value,date:t.target.date.value,position:t.target["designation-options"].value,lastDate:e},o={method:"POST",headers:{"Content-Type":"Application/json",Authorization:"Bearer "+getCookie("token")},body:JSON.stringify(n)};(await fetch(baseUrl+"/api/placement-cell/interviews/add",o)).ok&&(t.target.reset(),alert("Interview scheduled successfully!"))}catch(e){console.log(e)}},allocateStudentToAnInterview=async e=>{try{var t=e.target["interview-options"].value.split("-and-")[1],n={studentId:e.target["student-options"].value,companyId:e.target["interview-options"].value.split("-and-")[0]},o={method:"PUT",headers:{"Content-Type":"Application/json",Authorization:"Bearer "+getCookie("token")},body:JSON.stringify(n)};(await fetch(baseUrl+"/api/placement-cell/interviews/"+t,o)).ok&&(e.target.reset(),alert("Student allocated to Interview successfully!"))}catch(e){console.log(e)}},updateStudentInterviewStatus=async e=>{try{var t={method:"PUT",headers:{"Content-Type":"Application/json",Authorization:"Bearer "+getCookie("token")},body:JSON.stringify(e)};return(await fetch(baseUrl+"/api/placement-cell/results/",t)).ok?(alert("Student result updated successfully!"),!0):!1}catch(e){console.log(e)}},getCompaniesListFromOutside=()=>{try{return[{companyName:"Google",logo:"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.iconfinder.com%2Ficons%2F7123025%2Flogo_google_g_icon&psig=AOvVaw27jNI3W7H5YlbV0LlAClcc&ust=1719999004748000&source=images&cd=vfe&opi=89978449&ved=0CBEQjRxqFwoTCKDms9-FiIcDFQAAAAAdAAAAABAE",designation:"Software Engineer",lastDate:"2024-09-05"},{companyName:"Microsoft",logo:"https://cdn.pixabay.com/photo/2013/02/12/09/07/microsoft-80660_960_720.png",designation:"Senior Developer",lastDate:"2024-09-10"},{companyName:"Apple",logo:"https://w7.pngwing.com/pngs/186/863/png-transparent-apple-logo-apple-logo-computer-wallpaper-silhouette.png",designation:"Product Manager",lastDate:"2024-09-15"},{companyName:"Amazon",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Amazon_icon.svg/2500px-Amazon_icon.svg.png",designation:"Data Scientist",lastDate:"2024-09-20"},{companyName:"Facebook",logo:"https://e7.pngegg.com/pngimages/991/568/png-clipart-facebook-logo-computer-icons-facebook-logo-facebook-thumbnail.png",designation:"UI/UX Designer",lastDate:"2024-09-25"},{companyName:"Netflix",logo:"https://i.pinimg.com/736x/1b/54/ef/1b54efef3720f6ac39647fc420d4a6f9.jpg",designation:"Backend Developer",lastDate:"2024-09-30"},{companyName:"Twitter",logo:"https://e7.pngegg.com/pngimages/708/311/png-clipart-twitter-twitter-thumbnail.png",designation:"Frontend Developer",lastDate:"2024-09-04"},{companyName:"Tesla",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSVPG6wZ9fH-GPvC_AwBJMQo47GDdhn2aYWyQ&s",designation:"Systems Engineer",lastDate:"2024-09-09"},{companyName:"IBM",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSr9MF9q-h9p82zkHNBWbEqEPEQ1BgRfz_bGA&s",designation:"DevOps Engineer",lastDate:"2024-09-14"},{companyName:"Intel",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_tA5OFYw3R_pAYfRP5ztmiYM84GVFBsy5WA&s",designation:"AI Specialist",lastDate:"2024-09-19"},{companyName:"Spotify",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRHGhbo0uYyjEH0avlVNPl09KhpVE3AK-1VTA&s",designation:"Mobile Developer",lastDate:"2024-09-24"},{companyName:"LinkedIn",logo:"https://images.rawpixel.com/image_png_800/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvbHIvdjk4Mi1kMy0xMC5wbmc.png",designation:"Marketing Specialist",lastDate:"2024-09-29"},{companyName:"Adobe",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdgji-ic9ZMUeM4RwUxybH2Oxj1lsD7zxiqA&s",designation:"Graphics Designer",lastDate:"2024-09-03"},{companyName:"Salesforce",logo:"https://i.pinimg.com/originals/cc/93/4e/cc934e2161f7c9ef74faad1a8bc56d92.jpg",designation:"Cloud Architect",lastDate:"2024-09-08"},{companyName:"Uber",logo:"https://banner2.cleanpng.com/20180728/vsw/kisspng-logo-uber-brand-logo-uber-5b5c5cc0f1b550.8818960215327797129901.jpg",designation:"Operations Manager",lastDate:"2024-09-13"},{companyName:"Airbnb",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbVv42pbqy9yWZmsxRmLQLHKXMqpO9JNDS_A&s",designation:"Customer Support",lastDate:"2024-09-18"},{companyName:"Snapchat",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT0d5NU1E-x7SXbG2C34Sc0fwpdFY0nsZgzZw&s",designation:"Data Analyst",lastDate:"2024-09-23"},{companyName:"Oracle",logo:"https://w7.pngwing.com/pngs/898/916/png-transparent-oracle-corporation-logo-computer-software-business-company-logo-miscellaneous-angle-company.png",designation:"Database Administrator",lastDate:"2024-09-28"},{companyName:"SAP",logo:"https://w7.pngwing.com/pngs/25/122/png-transparent-sap-se-business-logo-sap-erp-successfactors-business-blue-text-rectangle.png",designation:"Business Analyst",lastDate:"2024-09-02"},{companyName:"Zoom",logo:"https://w7.pngwing.com/pngs/288/313/png-transparent-zoom-meeting-logo-thumbnail.png",designation:"Network Engineer",lastDate:"2024-09-07"},{companyName:"Slack",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSaab27IkYQ1TnJ41LtoDTb8DfSKnqqNvAw8g&s",designation:"Technical Writer",lastDate:"2024-09-12"},{companyName:"Square",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Square%2C_Inc._-_Square_logo.svg/800px-Square%2C_Inc._-_Square_logo.svg.png",designation:"Financial Analyst",lastDate:"2024-09-17"},{companyName:"Stripe",logo:"https://w7.pngwing.com/pngs/431/78/png-transparent-stripe-payment-gateway-business-payment-processor-stripe-blue-company-text.png",designation:"Security Specialist",lastDate:"2024-09-22"},{companyName:"Pinterest",logo:"https://image.similarpng.com/thumbnail/2020/05/Pinterest-logo-icon-form-poi-PNG.png",designation:"Content Creator",lastDate:"2024-09-27"},{companyName:"Reddit",logo:"https://i.pinimg.com/736x/ca/d8/26/cad826af5ee95bbc39d3bd498e1a8301.jpg",designation:"Community Manager",lastDate:"2024-09-01"},{companyName:"GitHub",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5jM-HYt3Q3Po0IcrmAm164xMf7vY5AeNovQ&s",designation:"Open Source Advocate",lastDate:"2024-09-06"},{companyName:"Yelp",logo:"https://i.pinimg.com/originals/2b/8d/54/2b8d547f797c8b4278320541ea7331fa.jpg",designation:"SEO Specialist",lastDate:"2024-09-11"},{companyName:"Dropbox",logo:"https://logoeps.com/wp-content/uploads/2011/05/dropbox-vector-logo.png",designation:"Storage Solutions Engineer",lastDate:"2024-09-16"},{companyName:"Atlassian",logo:"https://static-00.iconduck.com/assets.00/atlassian-icon-2048x2047-5zqlyyxr.png",designation:"Agile Coach",lastDate:"2024-09-21"}]}catch(e){return console.log(e),null}},addCompany=async e=>{try{var t=JSON.parse(e.target.getAttribute("data-company")),n={name:t.companyName,interviews:{designation:t.designation,lastDate:t.lastDate}},o={method:"POST",headers:{"Content-Type":"Application/json",Authorization:"Bearer "+getCookie("token")},body:JSON.stringify(n)};(await fetch(baseUrl+"/api/placement-cell/companies/add",o)).ok&&alert("Company added to your Inventory successfully!")}catch(e){console.log(e)}};function showLoginForm(){loginBtnEl.classList.contains("d-none")||loginBtnEl.classList.add("d-none"),registerBtnEl.classList.contains("d-none")&&registerBtnEl.classList.remove("d-none"),homeContainerEl.classList.contains("d-none")||homeContainerEl.classList.add("d-none"),registerContainerEl.classList.contains("d-none")||registerContainerEl.classList.add("d-none"),loginContainerEl.classList.contains("d-none")&&loginContainerEl.classList.remove("d-none")}function showHomePage(){userAuth()||(loginBtnEl.classList.contains("d-none")&&loginBtnEl.classList.remove("d-none"),registerBtnEl.classList.contains("d-none")&&registerBtnEl.classList.remove("d-none")),homeContainerEl.classList.contains("d-none")&&homeContainerEl.classList.remove("d-none"),studentsContainerEl.classList.contains("d-none")||studentsContainerEl.classList.add("d-none"),interviewsContainerEl.classList.contains("d-none")||interviewsContainerEl.classList.add("d-none"),jobsContainerEl.classList.contains("d-none")||jobsContainerEl.classList.add("d-none"),registerContainerEl.classList.contains("d-none")||registerContainerEl.classList.add("d-none"),loginContainerEl.classList.contains("d-none")||loginContainerEl.classList.add("d-none")}function userAuth(){return getCookie("token")?(loggedIn(),!0):(loggedOut(),!1)}function loggedIn(){loginBtnEl.classList.contains("d-none")||loginBtnEl.classList.add("d-none"),registerBtnEl.classList.contains("d-none")||registerBtnEl.classList.add("d-none"),logoutBtnEl.classList.contains("d-none")&&logoutBtnEl.classList.remove("d-none")}function loggedOut(){loginBtnEl.classList.contains("d-none")&&loginBtnEl.classList.remove("d-none"),registerBtnEl.classList.contains("d-none")&&registerBtnEl.classList.remove("d-none"),logoutBtnEl.classList.contains("d-none")||logoutBtnEl.classList.add("d-none")}function createStudents(e){studentsListsContainerEl.innerHTML="",e.forEach(e=>{var t=document.createElement("div");t.classList.add("accordion-item"),t.innerHTML=`
    <h2 class="accordion-header">
      <button
      class="accordion-button"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#${e._id}"
      aria-expanded="false"
      aria-controls="${e._id}"
      >
      <h5>
        ${e.name}
        </h5>
      </button>
      </h2>
      <div
        id="${e._id}"
        class="accordion-collapse collapse"
        data-bs-parent="#accordionExample"
      >
        <div class="accordion-body">
          <p><strong>Batch:</strong> ${e.batch}</p>
          <p><strong>Email:</strong> ${e.email}</p>
          <p><strong>College:</strong> ${e.college}</p>

          <span><strong>Scores:</strong></span><br/>

          <span><strong>&nbsp;&nbsp;DSA:</strong> ${e.scores.DSA}</span><br/>

          <span><strong>&nbsp;&nbsp;Web Development:</strong> ${e.scores.WebDev}</span><br/>

          <span><strong>&nbsp;&nbsp;React:</strong> ${e.scores.React}</span>
          <br/>
          <br/>
          <p><strong>Status:</strong> ${e.status}</p>
          <div>
          <strong>Interviews Allotted:</strong> ${e.interviews.map(e=>`
                <div>
                  <span><strong>&nbsp;&nbsp;CompanyId</strong>: ${e.companyId}</span><br/>
                  <span><strong>&nbsp;&nbsp;Position For</strong>: ${e.position}</span><br/>
                  <span><strong>&nbsp;&nbsp;Date</strong>: ${setDateFormat(e.date)}</span>
                </div>
                <br/>
              `).join("")}
          </div>
        </div>
      </div>
        `,studentsListsContainerEl.appendChild(t)})}function setDateFormat(e){try{var t=new Date(e),n=t.getFullYear(),o=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate(),s=t.getHours(),i=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),r=12<=s?"PM":"AM";return a+`-${o}-${n} AT ${s=(s=(s%=12)||12)<10?"0"+s:s}:${i} `+r}catch(e){console.log(e)}}function createJobsList(e){jobsListContainerEl.innerHTML="",e.forEach(e=>{var t=document.createElement("li"),n=(t.classList.add("bg-light","mt-3","d-flex","justify-content-between","align-items-center","p-3","rounded"),JSON.stringify(e).replace(/"/g,"&quot;"));t.innerHTML=`
      <div>
        <img src="${e.logo}" alt="${e.companyName}" class="job-company-logo" />
        <h2 class="">${e.companyName}</h2><br/>
        <h5 class="">Open for: ${e.designation}</h5>
      </div>
      <button class="btn btn-primary" data-company='${n}' onclick='addCompany(event)'>Add to inventory</button>
    `,jobsListContainerEl.appendChild(t)})}function createOptions(n,e){n.innerHTML="<option selected>Choose...</option>",e.map(e=>{var t=document.createElement("option");t.value=e._id,t.id=e._id,t.textContent=e.name,e.interviewId&&(t.value=t.value+"-and-"+e.interviewId),e.position&&(t.value=e.position,t.textContent=e.position),e.lastDate&&(t["data-last-date"]=e.lastDate),n.appendChild(t)})}async function downloadDataCSV(){try{var e={method:"GET",headers:{Authorization:"Bearer "+getCookie("token")}},t=(await(await fetch(baseUrl+"/api/placement-cell/students/download",e)).json())["data"],n=atob(t.csv),o=new Blob([n],{type:"text/csv"}),a=URL.createObjectURL(o),s=document.createElement("a");s.href=a,s.download="chrome-extension-output.csv",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(e){console.error("Error fetching data:",e)}}async function studentResultChange(e){e={studentId:e.target.parentElement.parentElement.getAttribute("id"),interviewId:e.target.parentElement.parentElement.parentElement.parentElement.getAttribute("id"),companyId:e.target.parentElement.parentElement.parentElement.parentElement.getAttribute("data-company-id"),result:e.target.value};await updateStudentInterviewStatus(e)&&createInterviewList(await getInterviews())}async function createInterviewList(e){interviewsListContainerEl.innerHTML="",e.forEach(e=>{var t=document.createElement("div");t.classList.add("accordion-item"),t.innerHTML=`
    <h2 class="accordion-header">
      <button
      class="accordion-button"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#${e._id}"
      aria-expanded="false"
      aria-controls="${e._id}"
      >
      <h5>
        ${e.companyId.name} - ${e.position} &nbsp;&nbsp;&nbsp;&nbsp; <span class="text-primary">Last Date: ${setDateFormat(e.lastDate)} </span>
        </h5>
      </button>
      </h2>
      <div
        id="${e._id}"
        data-company-id="${e.companyId._id}"
        class="accordion-collapse collapse"
        data-bs-parent="#accordionExample"
      >
        <div class="accordion-body">
        <h5>Students Allotted:</h5>
      ${e.students.map(e=>`
          <div id="${e._id}">
            <div>
              <span>
                &nbsp;&nbsp;<strong>Student Name: </strong>${e.name}<br/>
              </span>
              <span>
                &nbsp;&nbsp;<strong>Batch: </strong>${e.batch}<br/>
              </span>
              <span>
                &nbsp;&nbsp;<strong>Status: </strong>${e.status}<br/>
              </span>
            </div>
            <div class="input-group mt-3">
            <label class="input-group-text" for="interview-status-options"
              >Result</label
            >
            <select class="form-select interview-result-change" onchange="${e=>studentResultChange(e)}">
              <option selected>Choose...</option>
              <option id="PASS" value="PASS">PASS</option>
              <option id="FAIL" value="FAIL">FAIL</option>
              <option id="On_Hold" value="On Hold">On Hold</option>
              <option id="Did_not_Attempt" value="Didn't Attempt">Didn't Attempt</option>
            </select>
          </div>
          </div>
          <br/>
          `).join("")}
        </div>
      </div>
        `,interviewsListContainerEl.appendChild(t),document.querySelectorAll(".interview-result-change").forEach(e=>{e.addEventListener("change",e=>studentResultChange(e))})})}function setMinMaxDatesForInterviewSchedule(e=""){interviewDateEl.min=(new Date).toISOString().slice(0,-8),e&&(interviewDateEl.max=new Date(e).toISOString().slice(0,-8))}let homeBtnEl=document.querySelector("#home-link"),studentsBtnEl=document.querySelector("#students-link"),interviewsBtnEl=document.querySelector("#interviews-link"),jobsBtnEl=document.querySelector("#jobs-link"),registerBtnEl=document.querySelector("#register-btn"),loginBtnEl=document.querySelector("#login-btn"),logoutBtnEl=document.querySelector("#logout-btn"),homeContainerEl=document.querySelector(".home-container"),studentsContainerEl=document.querySelector(".students-bg-container"),interviewsContainerEl=document.querySelector(".interviews-bg-container"),jobsContainerEl=document.querySelector(".jobs-bg-container"),registerContainerEl=document.querySelector(".register-container"),loginContainerEl=document.querySelector(".login-container"),registrationFormEl=document.querySelector(".registration-form"),loginFormEl=document.querySelector(".login-form"),addStudentFormEl=document.querySelector(".add-new-student-form-container"),showAddStudentBtnEl=document.querySelector("#show-add-student-btn"),downloadDataBtnEl=document.querySelector("#download"),studentsListsContainerEl=document.querySelector("#student-accordion"),addStudentContainerEl=document.querySelector(".add-new-student-container"),showInterviewFormBtnEl=document.querySelector("#show-interview-form-btn"),interviewBGContainerEl=document.querySelector(".add-new-interview-container"),interviewAddingFormEl=document.querySelector(".add-new-interview-form-container"),interviewsListContainerEl=document.querySelector("#interview-accordion"),companyOptionsEl=document.querySelector("#company-options"),positionOptionsEl=document.querySelector("#designation-options"),interviewDateEl=document.querySelector("#interview-date"),showStudentInterviewAllocationFormBtnEl=document.querySelector("#show-allocate-student-to-interview-form-btn"),allocateStudentToAnInterviewContainerEl=document.querySelector(".allocate-student-to-interview-container"),allocateStudentToAnInterviewFormEl=document.querySelector(".allocate-student-to-interview-form-container"),interviewOptionsContainerEl=document.querySelector("#interview-options"),studentOptionsContainerEl=document.querySelector("#student-options"),jobsListContainerEl=document.querySelector("#jobs-list");setMinMaxDatesForInterviewSchedule(),document.addEventListener("DOMContentLoaded",()=>{userAuth(),registrationFormEl.addEventListener("submit",async e=>{e.preventDefault();try{await signUp(e)&&showLoginForm()}catch(e){console.log(e)}}),loginFormEl.addEventListener("submit",async e=>{e.preventDefault(),await signIn(e)&&userAuth()&&showHomePage()}),logoutBtnEl.addEventListener("click",()=>{signOut(),loggedOut(),showHomePage()}),addStudentFormEl.addEventListener("submit",async e=>{try{e.preventDefault(),await addStudent(e)&&(addStudentContainerEl.classList.add("d-none"),showAddStudentBtnEl.classList.remove("d-none"),studentsListsContainerEl.classList.remove("d-none"),createStudents(await getStudents()))}catch(e){console.log(e)}}),showAddStudentBtnEl.addEventListener("click",()=>{addStudentContainerEl.classList.contains("d-none")&&addStudentContainerEl.classList.remove("d-none"),showAddStudentBtnEl.classList.add("d-none"),studentsListsContainerEl.classList.add("d-none")}),downloadDataBtnEl.addEventListener("click",downloadDataCSV),showInterviewFormBtnEl.addEventListener("click",async()=>{interviewBGContainerEl.classList.contains("d-none")&&interviewBGContainerEl.classList.remove("d-none"),allocateStudentToAnInterviewContainerEl.classList.contains("d-none")||allocateStudentToAnInterviewContainerEl.classList.add("d-none");var e=await getCompanies();createOptions(companyOptionsEl,e)}),companyOptionsEl.addEventListener("change",async e=>{e=e.target.value,e=(await getCompany(e)).interviews.map(e=>{if(new Date(e.lastDate)>new Date)return{position:e.designation,_id:e._id,lastDate:e.lastDate}});createOptions(positionOptionsEl,e)}),interviewAddingFormEl.addEventListener("submit",async e=>{e.preventDefault(),await scheduleInterview(e),interviewBGContainerEl.classList.add("d-none"),createInterviewList(await getInterviews())}),showStudentInterviewAllocationFormBtnEl.addEventListener("click",async()=>{allocateStudentToAnInterviewContainerEl.classList.contains("d-none")&&allocateStudentToAnInterviewContainerEl.classList.remove("d-none"),interviewBGContainerEl.classList.contains("d-none")||interviewBGContainerEl.classList.add("d-none");var e=(await getInterviews()).filter(e=>new Date(e.date)>=new Date).map(e=>({name:e.companyId.name+" - "+e.position,_id:e.companyId._id,interviewId:e._id}));createOptions(interviewOptionsContainerEl,e),createOptions(studentOptionsContainerEl,await getStudents())}),allocateStudentToAnInterviewFormEl.addEventListener("submit",async e=>{e.preventDefault(),await allocateStudentToAnInterview(e),allocateStudentToAnInterviewContainerEl.classList.add("d-none"),createInterviewList(await getInterviews())}),homeBtnEl.addEventListener("click",()=>{showHomePage()}),studentsBtnEl.addEventListener("click",async()=>{if(userAuth()){try{createStudents(await getStudents())}catch(e){console.log(e)}addStudentContainerEl.classList.contains("d-none")||addStudentContainerEl.classList.add("d-none"),showAddStudentBtnEl.classList.contains("d-none")&&showAddStudentBtnEl.classList.remove("d-none"),studentsListsContainerEl.classList.contains("d-none")&&studentsListsContainerEl.classList.remove("d-none"),homeContainerEl.classList.contains("d-none")||homeContainerEl.classList.add("d-none"),studentsContainerEl.classList.contains("d-none")&&studentsContainerEl.classList.remove("d-none"),interviewsContainerEl.classList.contains("d-none")||interviewsContainerEl.classList.add("d-none"),jobsContainerEl.classList.contains("d-none")||jobsContainerEl.classList.add("d-none")}else alert("Please login!"),showLoginForm()}),interviewsBtnEl.addEventListener("click",async()=>{userAuth()?(homeContainerEl.classList.contains("d-none")||homeContainerEl.classList.add("d-none"),studentsContainerEl.classList.contains("d-none")||studentsContainerEl.classList.add("d-none"),jobsContainerEl.classList.contains("d-none")||jobsContainerEl.classList.add("d-none"),interviewsContainerEl.classList.contains("d-none")&&interviewsContainerEl.classList.remove("d-none"),createInterviewList(await getInterviews())):(alert("Please login!"),showLoginForm())}),jobsBtnEl.addEventListener("click",()=>{userAuth()?(homeContainerEl.classList.contains("d-none")||homeContainerEl.classList.add("d-none"),studentsContainerEl.classList.contains("d-none")||studentsContainerEl.classList.add("d-none"),interviewsContainerEl.classList.contains("d-none")||interviewsContainerEl.classList.add("d-none"),jobsContainerEl.classList.contains("d-none")&&jobsContainerEl.classList.remove("d-none"),createJobsList(getCompaniesListFromOutside())):(alert("Please login!"),showLoginForm())}),registerBtnEl.addEventListener("click",()=>{homeContainerEl.classList.contains("d-none")||homeContainerEl.classList.add("d-none"),registerBtnEl.classList.contains("d-none")||registerBtnEl.classList.add("d-none"),loginBtnEl.classList.contains("d-none")&&loginBtnEl.classList.remove("d-none"),registerContainerEl.classList.contains("d-none")&&registerContainerEl.classList.remove("d-none"),loginContainerEl.classList.contains("d-none")||loginContainerEl.classList.add("d-none")}),loginBtnEl.addEventListener("click",()=>{showLoginForm()})});